{% extends 'base.html' %} 
{% block content %}

  <h3 class="section_heading">Edit your recipe</h3>
  <br/>

  <div class="container">
    <div class="row">
      <form
        class="col s12"
        method="POST"
        action="{{ url_for('edit_recipe', recipe_id=recipe._id) }}" >
        <div class="row">
          <div class="input-field col s12">
            <i class="fas fa-utensils prefix text-darken-4"></i>

        <!-- Recipe categories -->

        <select
        id="category_name"
        name="category_name"
        class="validate"
        required>
        <option value="appetizer" {% if "appetizer" == recipe.category %} 
          selected="selected"{% endif %}>Appetizer
        </option>
        <option value="dessert" {% if "dessert" == recipe.category %} 
          selected="selected"{% endif %}>Dessert
        </option>
        <option value="main" {% if "main" == recipe.category %}
         selected="selected"{% endif %}>Main course
        </option> 
      </select>

      <label for="category_name">Choose new category</label>
          </div>
        </div>

        <!-- Recipe title -->

        <div class="row">
          <div class="input-field col s12">
            <i class="fas fa-pencil-alt prefix text-darken-4"></i>
            <input
              id="recipe_title"
              name="recipe_title"
              minlength="5"
              maxlength="100"
              type="text"
              class="validate" value="{{recipe.recipe_title}}" required/>
            <label for="task_name">Title</label>
          </div>
        </div>

        <!-- Recipe Description -->

        <div class="row">
          <div class="input-field col s12">
            <i class="fas fa-align-left prefix text-darken-4"></i>
            <textarea
              id="description"
              name="description"
              minlength="30"
              maxlength="400"
              class="materialize-textarea validate"
              required>{{recipe.description}}</textarea>
            <label for="description">Description</label>
          </div>
        </div>

        <!-- Cook time -->

        <div class="row">
          <div class="input-field col s12">
            <i class="far fa-clock prefix text-darken-4"></i>
            <input
              id="cook_time"
              name="cook_time"
              type="number"
              step="1"
              min="0"
              value="{{recipe.cook_time}}" required/>
            <label for="cook_time">Cooktime</label>
          </div>
        </div>

        <!-- Ingredients -->

        <div class="row">
          <div class="input-field col s12">
            <i class="fas fa-list prefix text-darken-4"></i>
            <textarea
              id="ingredients"
              name="ingredients"
              minlength="5"
              class="materialize-textarea validate"
              required>{{recipe.ingredients}}</textarea>
            <label for="ingredients">Ingredients</label>
          </div>
        </div>

        <!-- Method -->

        <div class="row">
          <div class="input-field col s12">
            <i class="fas fa-list prefix text-darken-4"></i>
            <textarea id="method" name="method" minlength="5" 
            class="materialize-textarea validate" required>{{recipe.method}}</textarea>
            <label for="method">Method</label>
          </div>
        </div>

        <!-- image -->

        <div class="row">
          <div class="input-field col s12">
            <i class="far fa-image prefix"></i>
            <input
              id="image_url"
              name="image_url"
              minlength="5"
              type="text"
              class="validate"
              value="{{recipe.image_url}}"
              required/>
            <label for="image_url">Image url</label>
          </div>
        </div>

        <!-- Submit button -->

        <div class="row">
          <div class="col s12 center-align">
            <button type="submit" class="btn">
              Submit changes <i class="fas fa-plus-square right"></i>
            </button>
          </div>
        </div>
        
      </form>
    </div>
  </div>

{% endblock %}
